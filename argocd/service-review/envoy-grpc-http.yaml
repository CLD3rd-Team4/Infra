# apiVersion: networking.istio.io/v1alpha3
# kind: EnvoyFilter
# metadata:
#   name: grpc-json-transcoder-filter
#   namespace: service-review
# spec:
#   workloadSelector:
#     labels:
#       app.kubernetes.io/name: review
#   configPatches:
#   - applyTo: HTTP_FILTER
#     match:
#       context: SIDECAR_INBOUND
#       listener:
#         portNumber: 50051
#         filterChain:
#           filter:
#             name: "envoy.filters.network.http_connection_manager"
#             subFilter:
#               name: "envoy.filters.http.router"
#     patch:
#       operation: INSERT_BEFORE
#       value:
#         name: envoy.filters.http.grpc_json_transcoder
#         typed_config:
#           "@type": "type.googleapis.com/envoy.extensions.filters.http.grpc_json_transcoder.v3.GrpcJsonTranscoder"
#           proto_descriptor: "/etc/envoy/protos/review_proto.pb"
#           services: 
#             - com.mapzip.review.ReviewService
#           print_options:
#             add_whitespace: true
#             always_print_primitive_fields: true
#             always_print_enums_as_ints: false

